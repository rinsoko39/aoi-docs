# 2.3 变量声明、赋值与解构

## 变量声明

可以用 `let` 语句声明变量：

```aoi
let pattern: Type = value;
```

其中，`pattern` 是声明模式，声明模式声明若干个变量，最简单的情况是一个要声明的变量名。`Type` 是变量类型，若能自动推断类型，`: Type` 可以省略。`value` 是变量的初始值。Aoi 不允许未赋值状态，任何变量声明时必须赋值。这仅仅是为了简化解释难度，而非刻意如此。

例如：

```aoi
let a = 42;
```

它声明了一个变量，并赋初始值 `42`。

## 赋值

可以用赋值表达式赋值：

```aoi
pattern = value
```

其中，`pattern` 是赋值模式，赋值模式提供若干个左值，最简单的情况是一个左值，左值包括变量，结构体和类的字段和属性和元组和数组的元素。

赋值表达式的值是 `value` 的值。

## 解构

声明模式和赋值模式可以解构值并分别赋给多个目标，解构方式有：

- `(pattern0, pattern1, ...)`

    用括号包围的逗号分隔的若干模式，用于解构一个元组。将元组的第 i 个元素赋值给第 i 个 `pattern`。

    例如：

    ```aoi
    (a, b) = (b, a);
    ```

    它交换了 `a` `b` 的值。

    其中任意 `pattern` 为可选，若为空，则跳过该元素。例如，`(a, , b) = (4, 42, 2)` 分别将 `4` `2` 赋值给 `a` `b`。

- `{ pattern00, pattern01, ..., name0: pattern10, name1: pattern11, ..., [value0]: pattern20, [value1]: pattern21, ... }`

    用大括号包围的逗号分隔的若干模式，可以提供属性或字段名，或提供索引。将对应字段或属性结果的值赋给对应 `pattern`。

    若解构的对象不是数组，则必须提供属性或字段名或是索引。

    例如：

    ```aoi
    let array = new arr[int] { 4, 2, 42 };
    let { a, [2]: b, length: c } = array;
    ```

    它声明了三个变量 `a` `b` `c` 并分别赋值为 `array` 的第一个、第三个元素和其长度。因此，`a` `b` `c` 将分别为 `4` `42` `3`。
