# 2.5 流程控制

## `if` 语句和 `if` 表达式

`if` 语句的语法如下：

```aoi
if condition then
    statement0
else
    statement1
```

`else` 及其之后的内容为可选。

`if` 表达式的语法如下：

```aoi
if condition then expression0 else expression1
```

其中，`condition` 是一个布尔类型的表达式，`statement` 是语句，`expression` 是表达式。若表达式值为 `true`，则执行 `statement0`，或对 `expression0` 求值且 `if` 表达式值为该值。若值为 `false`，则为 `statement1` 或 `expression1`。

例如：

```aoi
let (a, b) = (42, 0);
if a > 0 then {
    b += a;
} else {
    b -= a;
}
```

由于 `a > 0` 成立，将会执行 `b += a;`。

以上也可以写成 `if` 表达式的形式：

```aoi
let (a, b) = (42, 0);
b += if a > 0 then a else -a;
```

## `loop` 语句

`loop` 语句的语法如下：

```aoi
loop
    statement
```

其中 `statement` 是一个语句。语句中的内容会永远重复执行，直到 `break`（或者确实永远不停地执行下去）。 

目前 `loop` 并不是 `never` 类型的表达式，因为要判断其中是否有 `break` 比较复杂。

## `while` 语句

`while` 语句的语法如下：

```aoi
while condition do
    statement
```

其中 `condition` 是一个布尔类型的表达式，`statement` 是一个语句。每次判断 `condition` 的值，若为 `true` 则执行 `statement` 然后继续判断，若为 `false` 则停止执行。

## `for` 语句

`for` 语句的语法如下：

```aoi
for pattern in iter do
    statement
```

其中，`pattern` 是一个声明模式，`iter` 是一个可迭代对象（`DIntoIter`）。将 `iter` 迭代的内容依次赋值给 `pattern`，并执行 `statement`。`pattern` 声明的变量的作用域在 `statement` 内。

关于迭代器，最简单的例子是一个范围，例如 `0..5`，它将从 `0` 到 `4` 依次迭代。例如：

```aoi
for i in 0..5 do {
    printLine i;
}
```

它将依次输出 `0` 到 `4`。

---

Aoi 的流程控制语法多带有 `then` `do` 等后缀，这主要是因为 Aoi 的语法比较特殊，如果像 Rust 一样，那么形如 `if a { b }` 的形式在解析阶段无法区分究竟是 `a` 作为条件，`b` 作为内容，还是 `a` 是作用于 `{ b }` 的运算符，`a { b }` 整体作为条件。

## `break` 表达式和 `conitinue` 表达式

`break` 和 `continue` 都是 `never` 类型的表达式。和其它编程语言一样，`break` 跳出循环，`continue` 直接开始下一个循环。
